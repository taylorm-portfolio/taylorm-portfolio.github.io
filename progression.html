<!DOCTYPE html>
<html>
<head>
    <style>
        #frame {
            padding: 5pt;
            width: 90vw;
            height: 90vh;
            position: relative;
            overflow: hidden;
        }
        .slide {
            animation: slide 0.5s forwards;
            position: absolute;
            width: 100%;
            height: 100%;
            border: none; /* Add this line */
        }
        @keyframes slide {
            0% { transform: translateX(100%); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <button id="pause">Pause</button>
    <input type="range" min="0" max="4" value="0" id="slider"> <!--change this max value based on the number of html files in var files in the script below-->
    <div id="frame">
        <!-- Removed the initial iframe here -->
    </div>
    <script>
        var frame = document.getElementById('frame');
        var files = ['index-0.html', 'index-1.html','index-3.html','index-4.html','index.html'];
        var index = 0;
        var paused = false;

        // Create an initial iframe with 'index-0.html'
        var initialIframe = document.createElement('iframe');
        initialIframe.src = files[index];
        initialIframe.className = 'slide';
        frame.appendChild(initialIframe);

        var intervalId = setInterval(cycle, 5000);

        function cycle() {
            if (!paused) {
                index++; // Increment the index here
                createIframe();
                document.getElementById('slider').value = index % files.length; // Update the slider's value
            }
        }

        function createIframe() {
            var iframe = document.createElement('iframe');
            iframe.src = files[index % files.length];
            iframe.className = 'slide';
            
            // Add the iframe to the document after setting the src
            frame.appendChild(iframe);

            if (frame.childNodes.length > 1) {
                setTimeout(function() {
                    frame.removeChild(frame.firstChild);
                }, 500); // Remove the old iframe after the animation completes
            }

            document.getElementById('slider').value = index % files.length; // Update the slider's value here
        }

        document.getElementById('pause').addEventListener('click', function() {
            paused = !paused;
            if (!paused) {
                intervalId = setInterval(cycle, 5000); // Restart the interval
            } else {
                clearInterval(intervalId); // Clear the interval
            }
            this.textContent = paused ? 'Play' : 'Pause';
        });

        document.getElementById('slider').addEventListener('input', function() {
            index = parseInt(this.value);
            paused = true;
            clearInterval(intervalId); // Clear the interval
            document.getElementById('pause').textContent = 'Play';
            createIframe();
        });
    </script>
</body>
</html>
